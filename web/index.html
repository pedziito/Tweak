<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tweak</title>
<style>
/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê RESET & BASE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
*{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#0a0e1a;--card:#0c1120;--border:#141a2a;--border2:#1c2333;
  --text:#f0f6ff;--text2:#c5d0de;--text3:#7b8ba3;--text4:#5a6a7c;--text5:#4a5568;
  --cyan:#06b6d4;--cyan2:#22d3ee;--amber:#f59e0b;--amber2:#fbbf24;
  --green:#22c55e;--red:#ef4444;--purple:#8b5cf6;--pink:#f43f5e;
  --sidebar-w:56px;--topbar-h:52px;
}
html,body{height:100%;font-family:'Segoe UI',system-ui,-apple-system,sans-serif;font-size:13px;background:var(--bg);color:var(--text);overflow:hidden;user-select:none}
::-webkit-scrollbar{width:5px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:rgba(6,182,212,0.4);border-radius:3px}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê LAYOUT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
#app{display:flex;height:100vh;width:100vw}

/* SIDEBAR */
#sidebar{width:var(--sidebar-w);min-width:var(--sidebar-w);background:#06080f;border-right:1px solid var(--border);display:flex;flex-direction:column;align-items:center;padding:12px 0;z-index:100}
.sidebar-logo{width:32px;height:32px;border-radius:8px;background:linear-gradient(135deg,var(--amber),var(--amber2));display:flex;align-items:center;justify-content:center;font-weight:900;font-size:16px;color:#fff;margin-bottom:8px}
.sidebar-sep{width:32px;height:1px;background:var(--border);margin-bottom:8px}
.sidebar-icon{width:38px;height:38px;border-radius:10px;display:flex;align-items:center;justify-content:center;cursor:pointer;margin:2px 0;position:relative;transition:all .15s}
.sidebar-icon:hover{background:#0c1527}
.sidebar-icon.active{background:#1a1500;border:1px solid #3d2f00}
.sidebar-icon.active svg{color:var(--amber)}
.sidebar-icon svg{width:20px;height:20px;color:var(--text5);transition:color .15s}
.sidebar-icon:hover svg{color:var(--text2)}
.sidebar-icon.active::before{content:'';position:absolute;left:-9px;top:50%;transform:translateY(-50%);width:3px;height:22px;border-radius:2px;background:var(--amber)}
.sidebar-spacer{flex:1}
.sidebar-version{font-size:8px;color:#2d3748;margin-top:8px}
.sidebar-icon .tooltip{display:none;position:absolute;left:calc(100% + 8px);top:50%;transform:translateY(-50%);background:#1a2040;border:1px solid var(--border2);border-radius:6px;padding:4px 10px;font-size:11px;font-weight:600;color:var(--text2);white-space:nowrap;z-index:200}
.sidebar-icon:hover .tooltip{display:block}
.sidebar-icon.active .tooltip{display:none}

/* MAIN */
#main{flex:1;display:flex;flex-direction:column;overflow:hidden}

/* TOPBAR */
#topbar{height:var(--topbar-h);min-height:var(--topbar-h);border-bottom:1px solid var(--border);display:flex;align-items:center;padding:0 28px}
#topbar-title{font-size:20px;font-weight:700;flex:1}
.topbar-btn{height:32px;border-radius:8px;display:flex;align-items:center;gap:6px;padding:0 14px;cursor:pointer;font-size:11px;font-weight:700;border:none;color:#fff}
.topbar-help{width:32px;height:32px;border-radius:16px;background:var(--card);border:1px solid var(--border);display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:700;color:var(--text3);cursor:pointer;margin-right:10px}
.topbar-admin{background:linear-gradient(90deg,var(--amber),var(--red))}

/* PAGES */
#pages{flex:1;overflow:hidden}
.page{display:none;height:100%;overflow-y:auto;padding:28px}
.page.active{display:block}
.page-title{font-size:26px;font-weight:700;margin-bottom:4px}
.page-subtitle{font-size:12px;color:var(--text4);margin-bottom:20px}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CARDS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
.card{background:var(--card);border:1px solid var(--border);border-radius:14px;overflow:hidden}
.stat-row{display:grid;grid-template-columns:repeat(4,1fr);gap:14px;margin-bottom:20px}
.stat-card{padding:16px;display:flex;flex-direction:column;gap:6px}
.stat-card .icon{width:22px;height:22px}
.stat-card .value{font-size:28px;font-weight:700}
.stat-card .label{font-size:11px;color:var(--text4)}
.stat-card .link{font-size:11px;color:var(--text4);font-weight:600;cursor:pointer;margin-top:auto}
.stat-card .link:hover{color:var(--text3)}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê DASHBOARD SPECIFIC ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
.dash-mid{display:grid;grid-template-columns:1fr 360px;gap:20px;margin-bottom:20px}
.optimizations-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
.optimizations-header h3{font-size:14px;font-weight:700;display:flex;align-items:center;gap:8px}
.optimizations-header h3::before{content:'';width:8px;height:8px;border-radius:50%;background:var(--text5)}
.optimizations-header span{font-size:11px;color:var(--text4);font-weight:600}
.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;text-align:center;height:280px}
.empty-state svg{width:48px;height:48px;color:#3d4a5c;margin-bottom:16px}
.empty-state h4{font-size:14px;margin-bottom:8px}
.empty-state p{font-size:11px;color:var(--text4);line-height:1.5;margin-bottom:16px;max-width:250px}
.btn-gradient{background:linear-gradient(90deg,var(--cyan),#0ea5e9);color:#fff;border:none;border-radius:10px;padding:10px 24px;font-size:12px;font-weight:700;cursor:pointer;transition:opacity .15s}
.btn-gradient:hover{opacity:.9}
.applied-list{max-height:320px;overflow-y:auto;padding:16px}
.applied-item{display:flex;align-items:center;padding:12px 8px;border-bottom:1px solid var(--border)}
.applied-item:last-child{border-bottom:none}
.applied-item .name{flex:1;font-size:12px;color:var(--text2)}
.gauge-row{display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-bottom:14px}
.gauge-card{padding:14px;display:flex;flex-direction:column;align-items:center;gap:8px}
.gauge-label{font-size:10px;font-weight:700;color:var(--text3);display:flex;align-items:center;gap:6px}
.gauge-canvas{width:80px;height:80px}
.shortcuts-card{padding:14px}
.shortcuts-title{font-size:12px;font-weight:700;color:var(--text3);margin-bottom:10px;display:flex;align-items:center;gap:6px}
.shortcuts-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}
.shortcut-btn{height:72px;border-radius:10px;background:var(--bg);border:1px solid var(--border);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:6px;cursor:pointer;transition:all .15s}
.shortcut-btn:hover{border-color:var(--border2)}
.shortcut-btn svg{width:22px;height:22px}
.shortcut-btn span{font-size:10px;font-weight:600;color:var(--text3)}
.hw-section{display:grid;grid-template-columns:1fr 280px;gap:14px;margin-bottom:20px}
.hw-card{padding:18px}
.hw-card h4{font-size:12px;font-weight:700;color:var(--text3);margin-bottom:12px}
.hw-row{display:grid;grid-template-columns:60px 1fr;gap:8px;margin-bottom:8px}
.hw-key{font-size:10px;font-weight:700;color:var(--text5)}
.hw-val{font-size:11px;color:var(--text2)}
.score-card{padding:18px;position:relative}
.score-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--cyan),#0ea5e9);border-radius:14px 14px 0 0}
.score-card h4{font-size:12px;font-weight:700;color:var(--text3);margin-bottom:12px}
.score-card .tier{font-size:16px;font-weight:700;color:var(--cyan2)}
.score-card .bottleneck{font-size:10px;color:var(--amber2)}

/* CPU CARD */
.cpu-card{padding:14px;display:flex;gap:12px;align-items:center}
.cpu-info{flex:1;display:flex;flex-direction:column;gap:4px}
.cpu-label{font-size:10px;font-weight:700;color:var(--text3);display:flex;align-items:center;gap:6px}
.cpu-sublabel{font-size:11px;color:var(--text4)}
.cpu-value{font-size:26px;font-weight:700}
.cpu-graph{width:100%;height:50px;margin-top:auto}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TWEAKS PAGE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
.tabs{display:flex;gap:0;margin-bottom:14px}
.tab{padding:10px 20px;border-radius:8px;font-size:12px;font-weight:700;color:var(--text3);cursor:pointer;transition:all .15s}
.tab:hover{background:#111827}
.tab.active{background:var(--amber);color:#000}
.sub-cats{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:14px}
.sub-cat{padding:6px 14px;border-radius:6px;font-size:11px;font-weight:600;color:var(--text4);border:1px solid var(--border);cursor:pointer;transition:all .15s}
.sub-cat:hover{border-color:var(--border2);color:var(--text3)}
.sub-cat.active{background:var(--card);border-color:var(--cyan);color:var(--cyan)}
.search-bar{display:flex;align-items:center;gap:8px;background:var(--card);border:1px solid var(--border);border-radius:10px;padding:0 14px;height:40px;margin-bottom:20px;max-width:400px}
.search-bar input{background:none;border:none;color:var(--text);font-size:12px;flex:1;outline:none}
.search-bar input::placeholder{color:var(--text5)}
.search-bar svg{width:16px;height:16px;color:var(--text5)}

/* TWEAK CARDS GRID */
.tweaks-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
.tweak-card{height:200px;border-radius:12px;background:var(--card);border:1px solid var(--border);padding:16px;display:flex;flex-direction:column;transition:background .15s;position:relative}
.tweak-card:hover{background:#111827}
.tweak-badge{display:inline-flex;padding:3px 10px;border-radius:4px;font-size:10px;font-weight:700;background:#1a2332;border:1px solid var(--text5);width:fit-content;margin-bottom:10px}
.tweak-badge.gaming,.tweak-badge.network,.tweak-badge.memory,.tweak-badge.storage{border-color:var(--cyan);color:var(--cyan)}
.tweak-badge.privacy{border-color:var(--green);color:var(--green)}
.tweak-badge.power,.tweak-badge.visual{border-color:var(--amber);color:var(--amber)}
.tweak-badge.system{border-color:var(--purple);color:var(--purple)}
.tweak-title{font-size:14px;font-weight:700;margin-bottom:6px;line-height:1.3}
.tweak-desc{font-size:11px;color:var(--text4);line-height:1.4;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}
.tweak-bottom{margin-top:auto;padding-top:10px;border-top:1px solid var(--border);display:flex;align-items:center;gap:6px}
.tweak-info{width:16px;height:16px;border-radius:50%;border:1px solid var(--text5);display:flex;align-items:center;justify-content:center;font-size:9px;color:var(--text5);cursor:pointer;position:relative}
.tweak-info:hover{border-color:var(--cyan);color:var(--cyan)}
.tweak-info .info-tooltip{display:none;position:absolute;bottom:calc(100% + 8px);left:0;background:#111827;border:1px solid var(--border2);border-radius:8px;padding:10px;font-size:11px;color:#9ca3af;line-height:1.5;min-width:220px;max-width:280px;z-index:50;white-space:normal;font-weight:400;word-wrap:break-word}
.tweak-info:hover .info-tooltip{display:block}
.tweak-warning{color:var(--amber);margin-left:2px}
.tweak-activate{margin-left:auto;font-size:11px;color:var(--text4)}
/* Toggle switch */
.toggle{position:relative;width:40px;height:20px;cursor:pointer;flex-shrink:0}
.toggle input{display:none}
.toggle .slider{position:absolute;inset:0;background:#1a1f30;border:1px solid #2d3748;border-radius:10px;transition:all .18s}
.toggle input:checked+.slider{background:#0d3a4a;border-color:var(--cyan)}
.toggle .slider::before{content:'';position:absolute;width:14px;height:14px;border-radius:50%;background:var(--text5);left:3px;top:50%;transform:translateY(-50%);transition:all .18s}
.toggle input:checked+.slider::before{left:calc(100% - 17px);background:var(--cyan2)}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê GAMES PAGE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
.games-grid{display:grid;grid-template-columns:repeat(6,1fr);gap:14px}
.game-card{border-radius:8px;background:var(--card);border:1px solid var(--border);overflow:hidden;cursor:pointer;transition:border-color .15s}
.game-card:hover{border-color:var(--amber)}
.game-cover{aspect-ratio:3/4;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden}
.game-cover img{width:100%;height:100%;object-fit:cover}
.game-cover .placeholder{display:flex;flex-direction:column;align-items:center;gap:8px}
.game-cover .placeholder svg{width:36px;height:36px;color:rgba(255,255,255,0.3)}
.game-name{padding:8px;font-size:11px;font-weight:600;color:var(--amber)}
.game-meta{padding:0 8px 8px;font-size:9px;color:var(--text5)}
.pro-profiles-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
.pro-card{height:200px;border-radius:14px;background:var(--card);border:1px solid var(--border);padding:16px;display:flex;flex-direction:column;position:relative;transition:border-color .15s}
.pro-card:hover{border-color:var(--amber)}
.pro-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--amber),var(--amber2));border-radius:14px 14px 0 0}
.pro-avatar{width:40px;height:40px;border-radius:50%;background:#1a1500;border:1px solid var(--amber);display:flex;align-items:center;justify-content:center;font-size:16px;font-weight:700;color:var(--amber)}
.pro-header{display:flex;gap:12px;align-items:center;margin-bottom:10px}
.pro-name{font-size:14px;font-weight:700}
.pro-team{font-size:11px;font-weight:600;color:var(--amber)}
.pro-game{font-size:11px;color:var(--text4)}
.pro-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin-top:auto;padding-top:10px;border-top:1px solid var(--border)}
.pro-stat-label{font-size:9px;font-weight:700;color:var(--text5)}
.pro-stat-value{font-size:11px;font-weight:600;color:var(--text2)}
.game-settings-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:14px}
.gs-card{border-radius:14px;background:var(--card);border:1px solid var(--border);overflow:hidden}
.gs-card-header{padding:16px;display:flex;gap:10px;align-items:center;border-bottom:1px solid var(--border)}
.gs-card-icon{width:32px;height:32px;border-radius:8px;display:flex;align-items:center;justify-content:center}
.gs-card-title{font-size:14px;font-weight:700}
.gs-card-subtitle{font-size:11px;color:var(--text4)}
.gs-row{display:flex;align-items:center;padding:8px 16px;border-bottom:1px solid #0d1220}
.gs-row:last-child{border-bottom:none}
.gs-row .lbl{flex:1;font-size:12px;color:var(--text3)}
.gs-row .val{font-size:12px;font-weight:600}
.gs-row .val.rec{color:var(--green)}
.gs-row .check{color:var(--green);margin-left:6px}
.gs-apply{padding:12px 16px}
.gs-apply button{width:100%;height:34px;border-radius:8px;border:none;color:#fff;font-size:12px;font-weight:700;cursor:pointer;transition:opacity .15s}
.gs-apply button:hover{opacity:.9}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BOOST PAGE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
.boost-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:14px;margin-bottom:20px}
.boost-stat{padding:16px;height:100px;display:flex;flex-direction:column;gap:6px}
.boost-stat .bval{font-size:20px;font-weight:700;margin-top:auto}
.boost-actions{display:flex;gap:12px;margin-bottom:20px}
.boost-actions button{height:42px;border-radius:10px;border:none;padding:0 20px;font-size:13px;font-weight:700;cursor:pointer;display:flex;align-items:center;gap:8px;transition:opacity .15s}
.boost-actions button:hover{opacity:.9}
.boost-actions .primary{background:linear-gradient(90deg,var(--cyan),#0ea5e9);color:#fff}
.boost-actions .secondary{background:transparent;border:1px solid var(--border2);color:var(--text3)}
.boost-actions .dns{background:transparent;border:1px solid var(--border2);color:var(--green)}
.boost-list{padding:14px}
.boost-item{display:flex;align-items:center;gap:12px;padding:10px 8px;border-bottom:1px solid #0d1220}
.boost-item:last-child{border-bottom:none}
.boost-icon{width:36px;height:36px;border-radius:8px;display:flex;align-items:center;justify-content:center;border:1px solid}
.boost-item-info{flex:1}
.boost-item-name{font-size:13px;font-weight:600;margin-bottom:2px}
.boost-item-desc{font-size:11px;color:var(--text4)}
.boost-status{padding:4px 10px;border-radius:6px;font-size:10px;font-weight:600}
.boost-status.ready{background:#0c1527;border:1px solid var(--border2);color:var(--text3)}
.boost-status.done{background:#052e16;border:1px solid #166534;color:var(--green)}
.boost-size{font-size:12px;font-weight:600;color:var(--text2);min-width:80px;text-align:right}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SETTINGS PAGE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
.settings-section{padding:16px;margin-bottom:14px}
.settings-section h3{font-size:16px;font-weight:700;margin-bottom:12px}
.setting-row{display:flex;align-items:center;padding:14px 8px;border-bottom:1px solid #0d1220}
.setting-row:last-child{border-bottom:none}
.setting-info{flex:1}
.setting-label{font-size:13px;color:var(--text2)}
.setting-desc{font-size:11px;color:var(--text4);margin-top:2px}
.setting-value{font-size:12px;font-weight:600;color:var(--amber)}
.btn-outline{height:30px;border-radius:6px;background:transparent;border:1px solid var(--border2);color:var(--cyan);font-size:11px;font-weight:600;padding:0 14px;cursor:pointer}
.btn-danger{height:30px;border-radius:6px;background:#1c0a0a;border:1px solid #7f1d1d;color:var(--red);font-size:11px;font-weight:600;padding:0 14px;cursor:pointer}
.about-header{display:flex;gap:16px;align-items:center;margin-bottom:16px}
.about-logo{width:56px;height:56px;border-radius:14px;background:linear-gradient(135deg,var(--amber),var(--amber2));display:flex;align-items:center;justify-content:center;font-size:24px;font-weight:900;color:#fff}
.about-name{font-size:22px;font-weight:700}
.about-ver{font-size:12px;color:var(--text4)}
.about-desc{font-size:12px;color:var(--text3);line-height:1.6;margin-bottom:16px;padding-bottom:16px;border-bottom:1px solid var(--border)}
.about-grid{display:grid;grid-template-columns:80px 1fr;gap:10px}
.about-key{font-size:11px;font-weight:700;color:var(--text5)}
.about-val{font-size:12px;color:var(--text2)}
.support-cards{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin-bottom:14px}
.support-card{height:200px;padding:20px;display:flex;flex-direction:column;gap:10px}
.support-card svg{width:28px;height:28px}
.support-card h4{font-size:15px;font-weight:700}
.support-card p{font-size:12px;color:var(--text4);line-height:1.5;flex:1}
.support-card button{width:100%;height:36px;border-radius:8px;background:transparent;border:1px solid var(--border2);color:var(--cyan);font-size:12px;font-weight:600;cursor:pointer}
.faq-item{padding:12px 8px;border-bottom:1px solid #0d1220;cursor:pointer}
.faq-q{display:flex;align-items:center;font-size:13px;font-weight:600;color:var(--text2)}
.faq-q span{margin-left:auto;font-size:16px;font-weight:700;color:var(--text3)}
.faq-a{font-size:12px;color:var(--text4);line-height:1.6;margin-top:8px;display:none}
.faq-item.open .faq-a{display:block}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PROGRESS POPUP ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
.popup-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);z-index:1000;align-items:center;justify-content:center}
.popup-overlay.active{display:flex}
.popup{width:500px;max-height:80vh;background:#0f1423;border:1px solid var(--border2);border-radius:16px;overflow:hidden}
.popup-header{padding:20px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:12px}
.popup-header h3{font-size:18px;font-weight:700;flex:1}
.popup-close{width:28px;height:28px;border-radius:6px;background:var(--card);border:1px solid var(--border);display:flex;align-items:center;justify-content:center;cursor:pointer;color:var(--text3);font-size:14px}
.popup-body{padding:20px;overflow-y:auto;max-height:60vh}
.popup-progress-bar{height:6px;background:var(--border);border-radius:3px;margin-bottom:16px;overflow:hidden}
.popup-progress-fill{height:100%;background:linear-gradient(90deg,var(--cyan),#0ea5e9);border-radius:3px;transition:width .3s}
.popup-stats{display:flex;gap:20px;margin-bottom:16px;font-size:12px}
.popup-stats .done{color:var(--green)}
.popup-stats .pending{color:var(--text4)}
.popup-stats .running{color:var(--cyan)}
.popup-item{display:flex;align-items:center;gap:10px;padding:8px 0;border-bottom:1px solid #0d1220}
.popup-item:last-child{border-bottom:none}
.popup-item .name{flex:1;font-size:12px;color:var(--text2)}
.popup-item .status-icon{width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:10px}
.popup-item .status-icon.done{background:#052e16;color:var(--green)}
.popup-item .status-icon.running{background:#0c2d4a;color:var(--cyan)}
.popup-item .status-icon.pending{background:var(--card);color:var(--text5)}
.popup-footer{padding:16px 20px;border-top:1px solid var(--border);display:flex;justify-content:flex-end;gap:10px}
</style>
</head>
<body>
<div id="app">
  <!-- SIDEBAR -->
  <nav id="sidebar">
    <div class="sidebar-logo">T</div>
    <div class="sidebar-sep"></div>
    <div class="sidebar-icon active" data-page="dashboard" onclick="switchPage('dashboard')">
      <svg viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M10 2l8 7h-2v8h-4v-5H8v5H4V9H2z"/></svg>
      <span class="tooltip">Home</span>
    </div>
    <div class="sidebar-icon" data-page="tweaks" onclick="switchPage('tweaks')">
      <svg viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M11 1L4 11h5l-1 8 8-11h-5z"/></svg>
      <span class="tooltip">Optimizations</span>
    </div>
    <div class="sidebar-icon" data-page="boost" onclick="switchPage('boost')">
      <svg viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M10 3a7 7 0 0 1 4.5 3"/><path d="M14.5 4v4h-4"/><path d="M10 17a7 7 0 0 1-4.5-3"/><path d="M5.5 16v-4h4"/></svg>
      <span class="tooltip">Boost-Up</span>
    </div>
    <div class="sidebar-icon" data-page="games" onclick="switchPage('games')">
      <svg viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M2 8Q2 5 6 5h2V3h4v2h2Q18 5 18 8v4Q18 16 15 17l-1-3H6l-1 3Q2 16 2 12z"/><line x1="6" y1="8" x2="6" y2="12"/><line x1="4" y1="10" x2="8" y2="10"/><circle cx="13" cy="9" r="1.2" fill="currentColor"/><circle cx="15.5" cy="10.5" r="1.2" fill="currentColor"/></svg>
      <span class="tooltip">Games</span>
    </div>
    <div class="sidebar-spacer"></div>
    <div class="sidebar-icon" data-page="settings" onclick="switchPage('settings')">
      <svg viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><circle cx="10" cy="10" r="3"/><path d="M10 1.5v2M10 16.5v2M1.5 10h2M16.5 10h2M3.3 3.3l1.4 1.4M15.3 15.3l1.4 1.4M3.3 16.7l1.4-1.4M15.3 4.7l1.4-1.4"/></svg>
      <span class="tooltip">Settings</span>
    </div>
    <div class="sidebar-version">v4.2</div>
  </nav>

  <!-- MAIN -->
  <div id="main">
    <!-- TOPBAR -->
    <header id="topbar">
      <div id="topbar-title">Welcome to Tweak</div>
      <div class="topbar-help">?</div>
      <button class="topbar-btn topbar-admin" id="adminBtn" onclick="bridge.requestAdmin()" style="display:none">‚öø Run as Admin</button>
    </header>

    <!-- PAGES -->
    <div id="pages">
      <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê DASHBOARD ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
      <div class="page active" id="page-dashboard"></div>

      <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TWEAKS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
      <div class="page" id="page-tweaks"></div>

      <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BOOST ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
      <div class="page" id="page-boost"></div>

      <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê GAMES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
      <div class="page" id="page-games"></div>

      <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SETTINGS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
      <div class="page" id="page-settings"></div>
    </div>
  </div>
</div>

<!-- PROGRESS POPUP -->
<div class="popup-overlay" id="progressPopup">
  <div class="popup">
    <div class="popup-header">
      <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="var(--cyan)" stroke-width="1.8" stroke-linecap="round"><path d="M11 1L4 11h5l-1 8 8-11h-5z"/></svg>
      <h3 id="popupTitle">Applying Tweaks</h3>
      <div class="popup-close" onclick="closePopup()">‚úï</div>
    </div>
    <div class="popup-body">
      <div class="popup-progress-bar"><div class="popup-progress-fill" id="popupProgressFill" style="width:0%"></div></div>
      <div class="popup-stats">
        <span class="done" id="popupDone">‚úì 0 Done</span>
        <span class="running" id="popupRunning">‚ü≥ 0 In Progress</span>
        <span class="pending" id="popupPending">‚óã 0 Pending</span>
      </div>
      <div id="popupItems"></div>
    </div>
    <div class="popup-footer">
      <button class="btn-gradient" id="popupCloseBtn" onclick="closePopup()" style="display:none">Done</button>
    </div>
  </div>
</div>

<script src="qrc:///qtwebchannel/qwebchannel.js"></script>
<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê STATE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let bridge = null;
let tweaks = [];
let categories = [];
let sysInfo = {};
let monitorData = {};
let scoreData = {};
let currentPage = 'dashboard';
let tweakFilter = {tab: 'basic', category: 'All', search: ''};
let gamesTab = 'library';
let settingsTab = 'general';
let cpuHistory = [];
const MAX_CPU_POINTS = 40;

// Game data
const gamesList = [
  {name:'Counter-Strike 2',color:'#f59e0b',genre:'FPS',proCount:12},
  {name:'Fortnite',color:'#06b6d4',genre:'Battle Royale',proCount:8},
  {name:'Valorant',color:'#ef4444',genre:'FPS',proCount:15},
  {name:'Apex Legends',color:'#dc2626',genre:'Battle Royale',proCount:6},
  {name:'Minecraft',color:'#22c55e',genre:'Sandbox',proCount:3},
  {name:'Roblox',color:'#f59e0b',genre:'Platform',proCount:2},
  {name:'GTA V',color:'#8b5cf6',genre:'Open World',proCount:4},
  {name:'League of Legends',color:'#06b6d4',genre:'MOBA',proCount:10},
  {name:'Overwatch 2',color:'#f97316',genre:'FPS',proCount:9},
  {name:'PUBG',color:'#eab308',genre:'Battle Royale',proCount:5},
  {name:'Rocket League',color:'#3b82f6',genre:'Sports',proCount:7},
  {name:'Call of Duty: Warzone',color:'#4ade80',genre:'FPS',proCount:11}
];
const proProfiles = [
  {player:'s1mple',team:'NAVI',game:'Counter-Strike 2',dpi:'400',sens:'3.09',res:'1280x960',hz:'360'},
  {player:'ZywOo',team:'Vitality',game:'Counter-Strike 2',dpi:'400',sens:'2.0',res:'1280x960',hz:'360'},
  {player:'NiKo',team:'G2',game:'Counter-Strike 2',dpi:'400',sens:'1.38',res:'1920x1080',hz:'360'},
  {player:'TenZ',team:'Sentinels',game:'Valorant',dpi:'800',sens:'0.4',res:'1920x1080',hz:'240'},
  {player:'Shroud',team:'Retired',game:'Valorant',dpi:'450',sens:'0.78',res:'1920x1080',hz:'240'},
  {player:'Bugha',team:'Sentinels',game:'Fortnite',dpi:'400',sens:'11.0%',res:'1920x1080',hz:'240'},
  {player:'ImperialHal',team:'TSM',game:'Apex Legends',dpi:'400',sens:'2.8',res:'1920x1080',hz:'240'},
  {player:'Faker',team:'T1',game:'League of Legends',dpi:'3500',sens:'50',res:'1920x1080',hz:'240'},
  {player:'aceu',team:'Retired',game:'Apex Legends',dpi:'400',sens:'3.0',res:'1920x1080',hz:'240'},
  {player:'Mongraal',team:'',game:'Fortnite',dpi:'400',sens:'8.0%',res:'1920x1080',hz:'240'}
];

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê INIT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
new QWebChannel(qt.webChannelTransport, function(channel) {
  bridge = channel.objects.bridge;
  bridge.tweaksChanged.connect(refreshData);
  bridge.monitorUpdated.connect(refreshMonitor);
  bridge.batchProgress.connect(onBatchProgress);
  bridge.batchComplete.connect(onBatchComplete);
  refreshData();
});

function refreshData() {
  if (!bridge) return;
  bridge.getTweaks(function(t) { tweaks = t; renderCurrentPage(); });
  bridge.getCategories(function(c) { categories = c; });
  bridge.getSystemInfo(function(s) { sysInfo = s; });
  bridge.getScoreData(function(s) { scoreData = s; });
  bridge.getMonitorData(function(m) { monitorData = m; });
}

function refreshMonitor() {
  if (!bridge) return;
  bridge.getMonitorData(function(m) {
    monitorData = m;
    cpuHistory.push(m.cpuUsage);
    if (cpuHistory.length > MAX_CPU_POINTS) cpuHistory.shift();
    if (currentPage === 'dashboard') updateDashboardMonitor();
  });
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê NAVIGATION ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function switchPage(page) {
  currentPage = page;
  document.querySelectorAll('.sidebar-icon').forEach(el => el.classList.toggle('active', el.dataset.page === page));
  document.querySelectorAll('.page').forEach(el => el.classList.toggle('active', el.id === 'page-' + page));
  const titles = {dashboard:'Welcome to Tweak',tweaks:'Optimizations',boost:'Boost-Up',games:'Games',settings:'Settings'};
  document.getElementById('topbar-title').textContent = titles[page] || 'Tweak';
  renderCurrentPage();
}

function renderCurrentPage() {
  switch (currentPage) {
    case 'dashboard': renderDashboard(); break;
    case 'tweaks': renderTweaks(); break;
    case 'boost': renderBoost(); break;
    case 'games': renderGames(); break;
    case 'settings': renderSettings(); break;
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê DASHBOARD ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderDashboard() {
  const applied = tweaks.filter(t => t.applied);
  const recommended = tweaks.filter(t => t.recommended);
  const el = document.getElementById('page-dashboard');
  el.innerHTML = `
    <div class="stat-row">
      <div class="card stat-card"><div class="stat-icon" style="color:var(--cyan)">üöÄ</div><div class="value">${applied.length}</div><div class="label">Optimizations Active</div><div class="link" onclick="switchPage('tweaks')">View Optimizations ‚Üí</div></div>
      <div class="card stat-card"><div class="stat-icon" style="color:var(--amber)">‚ü≥</div><div class="value">${recommended.length}</div><div class="label">Recommended Available</div><div class="link" onclick="switchPage('tweaks')">View Recommended ‚Üí</div></div>
      <div class="card stat-card"><div class="stat-icon" style="color:var(--purple)">üéÆ</div><div class="value">0</div><div class="label">Game Settings Active</div><div class="link" onclick="switchPage('games')">View Games ‚Üí</div></div>
      <div class="card cpu-card"><div class="cpu-info"><div class="cpu-label">üñ• CPU USAGE</div><div class="cpu-sublabel">Current Load</div><div class="cpu-value">${Math.round(monitorData.cpuUsage||0)}%</div><canvas id="cpuGraph" class="cpu-graph" width="200" height="50"></canvas></div><canvas id="cpuGauge" class="gauge-canvas" width="80" height="80"></canvas></div>
    </div>
    <div class="dash-mid">
      <div>
        <div class="optimizations-header"><h3>Your Optimizations</h3><span>Create New Preset</span></div>
        <div class="card" style="min-height:320px">
          ${applied.length === 0 ? `
            <div class="empty-state">
              <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"><rect x="4" y="8" width="40" height="32" rx="4"/><path d="M14 18l-4 6"/><path d="M14 30l-4-6"/><path d="M22 30h8"/></svg>
              <h4>It's empty here...</h4>
              <p>You could use some optimizations. Check out the recommended section or go to the optimizations page to boost performance.</p>
              <button class="btn-gradient" onclick="switchPage('tweaks')">Go To Optimizations</button>
            </div>` : `
            <div class="applied-list" id="appliedList">
              ${applied.map(t => `<div class="applied-item"><span class="name">${t.name}</span><label class="toggle"><input type="checkbox" checked onchange="toggleTweak(${t.row})"><span class="slider"></span></label></div>`).join('')}
            </div>`}
        </div>
      </div>
      <div>
        <div class="gauge-row">
          <div class="card gauge-card"><div class="gauge-label"><span style="color:var(--cyan)">‚óÜ</span> GPU USAGE</div><canvas id="gpuGauge" class="gauge-canvas" width="80" height="80"></canvas></div>
          <div class="card gauge-card"><div class="gauge-label"><span style="color:var(--amber)">‚óÜ</span> RAM USAGE</div><canvas id="ramGauge" class="gauge-canvas" width="80" height="80"></canvas></div>
        </div>
        <div class="card shortcuts-card">
          <div class="shortcuts-title">üïì Shortcuts</div>
          <div class="shortcuts-grid">
            <div class="shortcut-btn" onclick="bridge.applyAllGaming()"><svg width="22" height="22" viewBox="0 0 22 22" fill="none" stroke="var(--cyan)" stroke-width="1.8" stroke-linecap="round"><path d="M12 1L5 12h5l-1 8 8-11h-5z"/></svg><span>Apply All</span></div>
            <div class="shortcut-btn" onclick="bridge.restoreAll()"><svg width="22" height="22" viewBox="0 0 22 22" fill="none" stroke="var(--pink)" stroke-width="1.8" stroke-linecap="round"><path d="M11 11a8 8 0 1 1-6 3"/><path d="M4 2v6h6"/></svg><span>Restore</span></div>
            <div class="shortcut-btn" onclick="bridge.verifyAllTweaks()"><svg width="22" height="22" viewBox="0 0 22 22" fill="none" stroke="var(--green)" stroke-width="2.5" stroke-linecap="round"><path d="M3 12l5 5L19 5"/></svg><span>Verify</span></div>
            <div class="shortcut-btn" onclick="switchPage('games')"><svg width="22" height="22" viewBox="0 0 22 22" fill="none" stroke="var(--amber)" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9Q3 5 7 5h2V3h4v2h2Q19 5 19 9v4Q19 17 16 18l-1-3H7l-1 3Q3 17 3 13z"/></svg><span>Games</span></div>
          </div>
        </div>
      </div>
    </div>
    <div class="hw-section">
      <div class="card hw-card"><h4>System Hardware</h4>
        <div class="hw-row"><div class="hw-key">CPU</div><div class="hw-val">${sysInfo.cpuName||'Detecting...'}</div></div>
        <div class="hw-row"><div class="hw-key">GPU</div><div class="hw-val">${sysInfo.gpuName||'Detecting...'}</div></div>
        <div class="hw-row"><div class="hw-key">RAM</div><div class="hw-val">${sysInfo.totalRam||'Detecting...'}</div></div>
        <div class="hw-row"><div class="hw-key">Storage</div><div class="hw-val">${sysInfo.diskModel||'Detecting...'}</div></div>
        <div class="hw-row"><div class="hw-key">OS</div><div class="hw-val">${sysInfo.osVersion||'Detecting...'}</div></div>
      </div>
      <div class="card score-card"><h4>System Score</h4>
        <div style="display:flex;gap:16px;align-items:center"><canvas id="scoreGauge" class="gauge-canvas" width="60" height="60"></canvas><div><div style="font-size:11px;color:var(--text3)">Gaming</div><div class="tier">${scoreData.tier||'N/A'}</div>${scoreData.bottleneck?`<div class="bottleneck">${scoreData.bottleneck}</div>`:''}</div></div>
      </div>
    </div>`;
  requestAnimationFrame(() => updateDashboardMonitor());
}

function updateDashboardMonitor() {
  drawGauge('cpuGauge', monitorData.cpuUsage||0, '#22c55e', '#4ade80');
  drawGauge('gpuGauge', monitorData.storageUsage||0, '#06b6d4', '#22d3ee');
  drawGauge('ramGauge', monitorData.ramUsage||0, '#f59e0b', '#fbbf24');
  drawGauge('scoreGauge', scoreData.gamingScore||0, '#06b6d4', '#22d3ee');
  drawCpuGraph();
  // Update CPU value text
  const cpuVal = document.querySelector('.cpu-value');
  if (cpuVal) cpuVal.textContent = Math.round(monitorData.cpuUsage||0) + '%';
}

function drawGauge(id, value, c1, c2) {
  const canvas = document.getElementById(id);
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const w = canvas.width, h = canvas.height, cx = w/2, cy = h/2, r = Math.min(w,h)/2 - 6;
  ctx.clearRect(0, 0, w, h);
  ctx.beginPath(); ctx.arc(cx, cy, r, 0.75*Math.PI, 2.25*Math.PI); ctx.strokeStyle='#141a2a'; ctx.lineWidth=6; ctx.lineCap='round'; ctx.stroke();
  if (value > 0) { ctx.beginPath(); ctx.arc(cx, cy, r, 0.75*Math.PI, (0.75 + 1.5*(value/100))*Math.PI); ctx.strokeStyle=c1; ctx.lineWidth=6; ctx.lineCap='round'; ctx.stroke(); }
  ctx.fillStyle = '#f0f6ff'; ctx.font = 'bold '+(w>70?'16':'12')+'px Segoe UI'; ctx.textAlign = 'center'; ctx.textBaseline = 'middle';
  ctx.fillText(Math.round(value)+'%', cx, cy);
}

function drawCpuGraph() {
  const canvas = document.getElementById('cpuGraph');
  if (!canvas || cpuHistory.length < 2) return;
  const ctx = canvas.getContext('2d');
  const w = canvas.width, h = canvas.height;
  ctx.clearRect(0, 0, w, h);
  // Grid
  ctx.strokeStyle='#141a2a'; ctx.lineWidth=1;
  for (let i = 0; i < 3; i++) { ctx.beginPath(); ctx.moveTo(0, h*i/3); ctx.lineTo(w, h*i/3); ctx.stroke(); }
  // Fill
  const grad = ctx.createLinearGradient(0, 0, 0, h);
  grad.addColorStop(0, 'rgba(34,197,94,0.15)'); grad.addColorStop(1, 'rgba(34,197,94,0)');
  ctx.fillStyle = grad; ctx.beginPath(); ctx.moveTo(0, h);
  for (let i = 0; i < cpuHistory.length; i++) ctx.lineTo(i*w/(MAX_CPU_POINTS-1), h-(cpuHistory[i]/100)*h);
  ctx.lineTo((cpuHistory.length-1)*w/(MAX_CPU_POINTS-1), h); ctx.closePath(); ctx.fill();
  // Line
  ctx.beginPath(); ctx.strokeStyle='#22c55e'; ctx.lineWidth=2; ctx.lineJoin='round';
  for (let i = 0; i < cpuHistory.length; i++) {
    const x = i*w/(MAX_CPU_POINTS-1), y = h-(cpuHistory[i]/100)*h;
    if (i===0) ctx.moveTo(x,y); else ctx.lineTo(x,y);
  }
  ctx.stroke();
  // Dot
  const lx = (cpuHistory.length-1)*w/(MAX_CPU_POINTS-1), ly = h-(cpuHistory[cpuHistory.length-1]/100)*h;
  ctx.beginPath(); ctx.arc(lx, ly, 3, 0, Math.PI*2); ctx.fillStyle='#22c55e'; ctx.fill();
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TWEAKS PAGE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderTweaks() {
  const el = document.getElementById('page-tweaks');
  const filtered = filterTweaks();
  const cats = ['All', ...categories];
  el.innerHTML = `
    <div class="page-title">Optimizations</div>
    <div class="page-subtitle">Apply system-level optimizations to improve performance</div>
    <div class="tabs">
      ${['basic','general','advanced','saved'].map(t => `<div class="tab ${tweakFilter.tab===t?'active':''}" onclick="setTweakTab('${t}')">${t.charAt(0).toUpperCase()+t.slice(1)}</div>`).join('')}
    </div>
    <div class="sub-cats">
      ${cats.map(c => `<div class="sub-cat ${tweakFilter.category===c?'active':''}" onclick="setTweakCategory('${c}')">${c}</div>`).join('')}
    </div>
    <div class="search-bar">
      <svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><circle cx="7" cy="7" r="5"/><path d="M11 11l3.5 3.5"/></svg>
      <input type="text" placeholder="Search optimizations..." value="${tweakFilter.search}" oninput="setTweakSearch(this.value)">
    </div>
    <div style="display:flex;gap:10px;margin-bottom:16px">
      <button class="btn-gradient" onclick="applyFiltered()">Apply All Visible (${filtered.length})</button>
    </div>
    <div class="tweaks-grid">
      ${filtered.map(t => `
        <div class="tweak-card">
          <div class="tweak-badge ${t.category.toLowerCase()}">${t.category}</div>
          <div class="tweak-title">${t.name}</div>
          <div class="tweak-desc">${t.description}</div>
          <div class="tweak-bottom">
            <div class="tweak-info">i${t.learnMore ? `<div class="info-tooltip">${t.learnMore}</div>` : `<div class="info-tooltip">${t.description}</div>`}</div>
            ${(t.status==='testing'||t.risk==='advanced')?'<span class="tweak-warning">‚ö†</span>':''}
            <span class="tweak-activate">Activate</span>
            <label class="toggle"><input type="checkbox" ${t.applied?'checked':''} onchange="toggleTweak(${t.row})"><span class="slider"></span></label>
          </div>
        </div>`).join('')}
    </div>`;
}

function filterTweaks() {
  return tweaks.filter(t => {
    if (tweakFilter.tab === 'basic' && !['System','Privacy','Visual'].includes(t.category)) return false;
    if (tweakFilter.tab === 'advanced' && t.risk !== 'advanced' && !['testing','experimental'].includes(t.status)) return false;
    if (tweakFilter.tab === 'saved' && !t.applied) return false;
    if (tweakFilter.category !== 'All' && t.category !== tweakFilter.category) return false;
    if (tweakFilter.search && !t.name.toLowerCase().includes(tweakFilter.search.toLowerCase()) && !t.description.toLowerCase().includes(tweakFilter.search.toLowerCase())) return false;
    return true;
  });
}

function setTweakTab(tab) { tweakFilter.tab = tab; tweakFilter.category = 'All'; renderTweaks(); }
function setTweakCategory(cat) { tweakFilter.category = cat; renderTweaks(); }
function setTweakSearch(val) { tweakFilter.search = val; renderTweaks(); }

function toggleTweak(row) {
  if (bridge) bridge.toggleTweak(row);
}

function applyFiltered() {
  const filtered = filterTweaks().filter(t => !t.applied);
  if (filtered.length === 0) return;
  showProgressPopup(filtered);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BOOST PAGE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const boostItems = [
  {name:'Temporary Files',desc:'Windows temp files, browser cache, and temporary data',color:'var(--cyan)',size:'247 MB',status:'ready'},
  {name:'DNS Cache',desc:'Flush DNS resolver cache to fix connectivity issues',color:'var(--green)',size:'Ready',status:'ready'},
  {name:'Thumbnail Cache',desc:'Windows Explorer thumbnail database and image cache',color:'var(--amber)',size:'89 MB',status:'ready'},
  {name:'System Logs',desc:'Old Windows event logs and crash dump files',color:'var(--purple)',size:'156 MB',status:'ready'},
  {name:'Prefetch Data',desc:'Application prefetch cache used for faster startup',color:'var(--red)',size:'34 MB',status:'ready'},
  {name:'Windows Update Cache',desc:'Old Windows Update downloaded files and patches',color:'var(--cyan)',size:'512 MB',status:'ready'},
  {name:'Recycle Bin',desc:'Permanently delete items in the recycle bin',color:'var(--pink)',size:'78 MB',status:'ready'},
  {name:'Shader Cache',desc:'GPU shader compilation cache (DirectX & Vulkan)',color:'var(--amber2)',size:'203 MB',status:'ready'}
];
let boostCleaned = false;

function renderBoost() {
  const el = document.getElementById('page-boost');
  el.innerHTML = `
    <div class="page-title">Boost-Up</div>
    <div class="page-subtitle">Free up disk space, clear caches and optimize system performance</div>
    <div class="boost-stats">
      <div class="card boost-stat"><div style="font-size:11px;font-weight:700;color:var(--text3)">‚úì Total Freed</div><div class="bval">${boostCleaned?'1.32 GB':'‚Äî'}</div></div>
      <div class="card boost-stat"><div style="font-size:11px;font-weight:700;color:var(--text3)">üîç Items Found</div><div class="bval">8</div></div>
      <div class="card boost-stat"><div style="font-size:11px;font-weight:700;color:var(--text3)">üíæ Disk Health</div><div class="bval">${Math.round(100-(monitorData.storageUsage||0))}% Free</div></div>
      <div class="card boost-stat"><div style="font-size:11px;font-weight:700;color:var(--text3)">üïì Last Cleanup</div><div class="bval">${boostCleaned?'Just now':'Never'}</div></div>
    </div>
    <div class="boost-actions">
      <button class="primary" onclick="cleanAll()">‚ö° Clean All</button>
      <button class="secondary" onclick="renderBoost()">‚ü≥ Re-scan</button>
      <button class="dns" onclick="bridge.flushDns()">üåê Flush DNS</button>
    </div>
    <div class="card boost-list">
      <div style="display:flex;align-items:center;padding:0 8px 10px;border-bottom:1px solid var(--border)"><span style="flex:1;font-size:14px;font-weight:700">Cleanup Items</span><span style="font-size:10px;font-weight:700;color:var(--text5);width:80px">STATUS</span><span style="font-size:10px;font-weight:700;color:var(--text5);width:80px;text-align:right">SIZE</span></div>
      ${boostItems.map(item => `
        <div class="boost-item">
          <div class="boost-icon" style="border-color:${item.color};color:${item.color}">‚óè</div>
          <div class="boost-item-info"><div class="boost-item-name">${item.name}</div><div class="boost-item-desc">${item.desc}</div></div>
          <div class="boost-status ${item.status}">${item.status === 'done' ? 'Cleaned' : 'Ready'}</div>
          <div class="boost-size" style="${item.status==='done'?'color:var(--green)':''}">${item.size}</div>
        </div>`).join('')}
    </div>`;
}

function cleanAll() {
  boostCleaned = true;
  boostItems.forEach(item => { item.status = 'done'; item.size = 'Cleaned'; });
  if (bridge) bridge.clearTempFiles();
  renderBoost();
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê GAMES PAGE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderGames() {
  const el = document.getElementById('page-games');
  el.innerHTML = `
    <div class="page-title">Games</div>
    <div class="page-subtitle">Optimized settings, pro player profiles and in-game configurations</div>
    <div class="tabs">
      ${['library','profiles','settings'].map(t => `<div class="tab ${gamesTab===t?'active':''}" onclick="setGamesTab('${t}')">${{library:'Library',profiles:'Pro Profiles',settings:'Game Settings'}[t]}</div>`).join('')}
    </div>
    ${gamesTab === 'library' ? renderGamesLibrary() : gamesTab === 'profiles' ? renderProProfiles() : renderGameSettings()}`;
}

function setGamesTab(t) { gamesTab = t; renderGames(); }

function renderGamesLibrary() {
  return `
    <div style="display:flex;align-items:center;gap:8px;margin-bottom:14px"><span style="color:var(--amber)">‚ñ¶</span><span style="font-size:14px;font-weight:700">Library</span><span style="background:#1a1500;border:1px solid #3d2f00;border-radius:4px;padding:2px 8px;font-size:10px;font-weight:700;color:var(--amber)">${gamesList.length}</span></div>
    <div class="games-grid">${gamesList.map(g => `
      <div class="game-card">
        <div class="game-cover" style="background:${g.color}33"><div class="placeholder"><svg width="36" height="36" viewBox="0 0 36 36" fill="none" stroke="rgba(255,255,255,0.3)" stroke-width="1.5" stroke-linecap="round"><path d="M4 14Q4 9 10 9h3V6h6v3h3Q28 9 28 14v6Q28 27 24 28l-2-4H14l-2 4Q8 27 8 20z"/></svg></div></div>
        <div class="game-name">${g.name}</div>
        <div class="game-meta">${g.genre} ¬∑ ${g.proCount} pro profiles</div>
      </div>`).join('')}
    </div>`;
}

function renderProProfiles() {
  return `
    <div style="display:flex;align-items:center;margin-bottom:14px"><span style="flex:1;font-size:16px;font-weight:700">Professional Player Settings</span><span style="font-size:12px;color:var(--text4)">${proProfiles.length} profiles</span></div>
    <div class="pro-profiles-grid">${proProfiles.map(p => `
      <div class="pro-card">
        <div class="pro-header"><div class="pro-avatar">${p.player[0]}</div><div><div class="pro-name">${p.player}</div><div><span class="pro-team">${p.team}</span>${p.team?' ¬∑ ':''}<span class="pro-game">${p.game}</span></div></div></div>
        <div class="pro-stats">
          <div><div class="pro-stat-label">DPI</div><div class="pro-stat-value">${p.dpi}</div></div>
          <div><div class="pro-stat-label">Sens</div><div class="pro-stat-value">${p.sens}</div></div>
          <div><div class="pro-stat-label">Hz</div><div class="pro-stat-value">${p.hz}</div></div>
          <div><div class="pro-stat-label">Res</div><div class="pro-stat-value">${p.res}</div></div>
        </div>
      </div>`).join('')}
    </div>`;
}

function renderGameSettings() {
  const gs = [
    {name:'Counter-Strike 2',color:'#f59e0b',settings:[{l:'Resolution',v:'1280√ó960',r:true},{l:'Shadow Quality',v:'Low',r:true},{l:'Model Detail',v:'Low',r:false},{l:'Shader Detail',v:'Low',r:true},{l:'Multicore Rendering',v:'Enabled',r:true},{l:'MSAA',v:'None',r:true},{l:'FXAA',v:'Disabled',r:true}]},
    {name:'Valorant',color:'#ef4444',settings:[{l:'Material Quality',v:'Low',r:true},{l:'Texture Quality',v:'Low',r:true},{l:'Detail Quality',v:'Low',r:true},{l:'Vignette',v:'Off',r:true},{l:'Anti-Aliasing',v:'None',r:true},{l:'Bloom',v:'Off',r:true}]},
    {name:'Fortnite',color:'#06b6d4',settings:[{l:'Rendering Mode',v:'Performance',r:true},{l:'Shadows',v:'Off',r:true},{l:'Anti-Aliasing',v:'Off',r:true},{l:'Textures',v:'Low',r:true},{l:'Effects',v:'Low',r:true},{l:'Post Processing',v:'Low',r:true}]},
    {name:'Apex Legends',color:'#dc2626',settings:[{l:'Texture Streaming',v:'Low',r:true},{l:'Texture Filtering',v:'Bilinear',r:true},{l:'Ambient Occlusion',v:'Disabled',r:true},{l:'Shadow Detail',v:'Disabled',r:true},{l:'Model Detail',v:'Low',r:true},{l:'Anti-Aliasing',v:'None',r:true}]}
  ];
  return `<div class="game-settings-grid">${gs.map(g => `
    <div class="gs-card">
      <div class="gs-card-header"><div class="gs-card-icon" style="background:${g.color}22;border:1px solid ${g.color};border-radius:8px">üéÆ</div><div><div class="gs-card-title">${g.name}</div><div class="gs-card-subtitle">Recommended settings for max FPS</div></div></div>
      ${g.settings.map(s => `<div class="gs-row"><span class="lbl">${s.l}</span><span class="val ${s.r?'rec':''}">${s.v}</span>${s.r?'<span class="check">‚úì</span>':''}</div>`).join('')}
      <div class="gs-apply"><button style="background:${g.color}">Apply All Settings</button></div>
    </div>`).join('')}
  </div>`;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SETTINGS PAGE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderSettings() {
  const el = document.getElementById('page-settings');
  el.innerHTML = `
    <div class="page-title">Settings</div>
    <div class="page-subtitle">Configure preferences, view system information, and get support</div>
    <div class="tabs">
      ${['general','about','support'].map(t => `<div class="tab ${settingsTab===t?'active':''}" onclick="setSettingsTab('${t}')">${t.charAt(0).toUpperCase()+t.slice(1)}</div>`).join('')}
    </div>
    ${settingsTab === 'general' ? renderSettingsGeneral() : settingsTab === 'about' ? renderSettingsAbout() : renderSettingsSupport()}`;
}
function setSettingsTab(t) { settingsTab = t; renderSettings(); }

function renderSettingsGeneral() {
  return `
    <div class="card settings-section"><h3>Application</h3>
      ${settingToggle('Start with Windows','Automatically launch Tweak when Windows starts',false)}
      ${settingToggle('Start minimized','Start the application minimized to system tray',false)}
      ${settingToggle('Auto-apply on startup','Automatically apply saved optimizations when the app starts',false)}
      ${settingToggle('Show notifications','Display system notifications for optimization status',true)}
      ${settingToggle('Dark mode','Use dark theme for the application interface',true)}
    </div>
    <div class="card settings-section"><h3>Performance Monitoring</h3>
      ${settingToggle('Real-time monitoring','Enable CPU, GPU, and RAM usage monitoring',true)}
      ${settingToggle('Low resource mode','Reduce monitoring frequency to minimize system impact',false)}
      <div class="setting-row"><div class="setting-info"><div class="setting-label">Update interval</div><div class="setting-desc">How often system stats refresh</div></div><div class="setting-value">2 seconds</div></div>
    </div>
    <div class="card settings-section"><h3>Data & Storage</h3>
      ${settingToggle('Save tweak history','Keep a log of applied and reverted optimizations',true)}
      <div class="setting-row"><div class="setting-info"><div class="setting-label">Reset all tweaks</div><div class="setting-desc">Restore all optimizations to Windows defaults</div></div><button class="btn-danger" onclick="bridge.restoreAll()">Reset All</button></div>
    </div>`;
}

function settingToggle(label, desc, checked) {
  return `<div class="setting-row"><div class="setting-info"><div class="setting-label">${label}</div><div class="setting-desc">${desc}</div></div><label class="toggle"><input type="checkbox" ${checked?'checked':''}><span class="slider"></span></label></div>`;
}

function renderSettingsAbout() {
  return `
    <div class="card settings-section">
      <div class="about-header"><div class="about-logo">T</div><div><div class="about-name">Tweak</div><div class="about-ver">Version 4.2 ¬∑ Built with Qt 6.x</div></div></div>
      <div class="about-desc">Tweak is a gaming performance optimizer built for Windows. It applies system-level optimizations to improve FPS, reduce input lag, and boost responsiveness.</div>
      <div class="about-grid">
        <div class="about-key">Platform</div><div class="about-val">Windows 10/11</div>
        <div class="about-key">Framework</div><div class="about-val">Qt / WebEngine / C++17</div>
        <div class="about-key">Tweaks</div><div class="about-val">${tweaks.length} optimizations</div>
        <div class="about-key">License</div><div class="about-val" style="color:var(--green);font-weight:600">Free to use</div>
      </div>
    </div>
    <div class="card settings-section"><h3>Your System</h3>
      <div class="about-grid" style="margin-top:12px">
        <div class="about-key">CPU</div><div class="about-val">${sysInfo.cpuName||'Detecting...'}</div>
        <div class="about-key">Cores</div><div class="about-val">${sysInfo.cpuCores||'?'} / ${sysInfo.cpuThreads||'?'}</div>
        <div class="about-key">GPU</div><div class="about-val">${sysInfo.gpuName||'Detecting...'}</div>
        <div class="about-key">RAM</div><div class="about-val">${sysInfo.totalRam||'Detecting...'}</div>
        <div class="about-key">Storage</div><div class="about-val">${sysInfo.diskModel||'Detecting...'}</div>
        <div class="about-key">OS</div><div class="about-val">${sysInfo.osVersion||'Detecting...'}</div>
        <div class="about-key">Admin</div><div class="about-val" style="color:${sysInfo.isAdmin?'var(--green)':'var(--amber)'}; font-weight:600">${sysInfo.isAdmin?'Yes':'No (limited)'}</div>
      </div>
    </div>`;
}

function renderSettingsSupport() {
  return `
    <div class="support-cards">
      <div class="card support-card"><svg width="28" height="28" viewBox="0 0 28 28" fill="none" stroke="var(--red)" stroke-width="1.8" stroke-linecap="round"><rect x="8" y="8" rx="6" width="12" height="14"/><path d="M8 13H4m16 0h4M8 18H4m16 0h4M10 8l-1-4m8 4l1-4"/></svg><h4>Report a Bug</h4><p>Found an issue? Send a bug report with system information and logs.</p><button>Send Report</button></div>
      <div class="card support-card"><svg width="28" height="28" viewBox="0 0 28 28" fill="none" stroke="var(--cyan)" stroke-width="1.8" stroke-linecap="round"><rect x="3" y="3" rx="4" width="22" height="16"/><path d="M8 19v6l6-6"/></svg><h4>Discord Community</h4><p>Join our Discord server for support, feature requests, and community.</p><button>Join Discord</button></div>
      <div class="card support-card"><svg width="28" height="28" viewBox="0 0 28 28" fill="none" stroke="var(--amber)" stroke-width="1.8" stroke-linecap="round"><path d="M4 3v20Q4 25 8 25h16"/><path d="M4 3Q4 3 8 3h16v22"/><path d="M4 21Q4 21 8 21h16"/></svg><h4>Documentation</h4><p>Read the documentation to learn about all features and best practices.</p><button>View Docs</button></div>
    </div>
    <div class="card settings-section"><h3>Frequently Asked Questions</h3>
      <div class="faq-item" onclick="this.classList.toggle('open')"><div class="faq-q">Is Tweak safe to use?<span>+</span></div><div class="faq-a">Yes. All tweaks modify standard Windows registry settings and can be fully reverted. We recommend applying tweaks gradually.</div></div>
      <div class="faq-item" onclick="this.classList.toggle('open')"><div class="faq-q">Do I need admin rights?<span>+</span></div><div class="faq-a">Some advanced tweaks require administrator privileges. Running as admin unlocks all ${tweaks.length} optimizations.</div></div>
      <div class="faq-item" onclick="this.classList.toggle('open')"><div class="faq-q">Will this work with any game?<span>+</span></div><div class="faq-a">System-level optimizations benefit all games. Game-specific settings are tailored for popular titles.</div></div>
      <div class="faq-item" onclick="this.classList.toggle('open')"><div class="faq-q">How do I restore defaults?<span>+</span></div><div class="faq-a">Go to Settings > General > Reset All or use the Restore button on the Dashboard shortcuts.</div></div>
    </div>`;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PROGRESS POPUP ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let popupTweaks = [];
let popupDoneCount = 0;

function showProgressPopup(tweaksList) {
  popupTweaks = tweaksList.map(t => ({...t, popupStatus: 'pending'}));
  popupDoneCount = 0;
  document.getElementById('progressPopup').classList.add('active');
  document.getElementById('popupCloseBtn').style.display = 'none';
  updatePopupUI();
  // Start applying
  const rows = tweaksList.map(t => t.row);
  if (bridge) {
    const arr = [];
    for (let i = 0; i < rows.length; i++) arr.push(rows[i]);
    bridge.applyBatch(arr);
  }
}

function onBatchProgress(current, total, name, status) {
  if (current < popupTweaks.length) {
    if (status === 'applying') {
      popupTweaks[current].popupStatus = 'running';
    } else if (status === 'done') {
      for (let i = 0; i <= current && i < popupTweaks.length; i++) {
        if (popupTweaks[i].popupStatus !== 'done') popupTweaks[i].popupStatus = 'done';
      }
      popupDoneCount = current + 1;
    }
  }
  updatePopupUI();
}

function onBatchComplete() {
  popupTweaks.forEach(t => t.popupStatus = 'done');
  popupDoneCount = popupTweaks.length;
  document.getElementById('popupCloseBtn').style.display = 'block';
  document.getElementById('popupTitle').textContent = 'All Done!';
  updatePopupUI();
  refreshData();
}

function updatePopupUI() {
  const total = popupTweaks.length;
  const done = popupTweaks.filter(t => t.popupStatus === 'done').length;
  const running = popupTweaks.filter(t => t.popupStatus === 'running').length;
  const pending = total - done - running;
  const pct = total > 0 ? Math.round((done / total) * 100) : 0;
  document.getElementById('popupProgressFill').style.width = pct + '%';
  document.getElementById('popupDone').textContent = '‚úì ' + done + ' Done';
  document.getElementById('popupRunning').textContent = '‚ü≥ ' + running + ' In Progress';
  document.getElementById('popupPending').textContent = '‚óã ' + pending + ' Pending';
  document.getElementById('popupItems').innerHTML = popupTweaks.map(t => {
    const icon = t.popupStatus === 'done' ? 'done' : t.popupStatus === 'running' ? 'running' : 'pending';
    const sym = t.popupStatus === 'done' ? '‚úì' : t.popupStatus === 'running' ? '‚ü≥' : '‚óã';
    return `<div class="popup-item"><div class="status-icon ${icon}">${sym}</div><span class="name">${t.name}</span><span style="font-size:10px;color:var(--text5)">${t.category}</span></div>`;
  }).join('');
}

function closePopup() {
  document.getElementById('progressPopup').classList.remove('active');
  document.getElementById('popupTitle').textContent = 'Applying Tweaks';
}
</script>
</body>
</html>
